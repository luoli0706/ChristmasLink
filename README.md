# Christmas Link - åœ£è¯é“¾æ¥åŒ¹é…æ± ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº **Golang + React** çš„éšæœºåŒ¹é…æ± ç³»ç»Ÿï¼Œæ”¯æŒåˆ›å»ºåŒ¹é…æ± ã€ç”¨æˆ·åŒ¹é…ã€å†·å´æ—¶é—´ç®¡ç†å’Œå†å²è®°å½•æŸ¥çœ‹ã€‚ç³»ç»Ÿé‡‡ç”¨åŒ¿ååŒ–è®¾è®¡ï¼Œä¿æŠ¤ç”¨æˆ·éšç§çš„åŒæ—¶æä¾›æœ‰è¶£çš„åŒ¹é…ä½“éªŒã€‚

## ğŸ¯ é¡¹ç›®ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **åŒ¹é…æ± ç®¡ç†**: åˆ›å»ºè‡ªå®šä¹‰å­—æ®µçš„åŒ¹é…æ± ï¼Œæ”¯æŒç”¨æˆ·åŠ¨æ€åŠ å…¥
- **æ™ºèƒ½åŒ¹é…**: åŸºäºçœŸéšæœºæ•°çš„å…¬å¹³åŒ¹é…ç®—æ³•ï¼Œå¤„ç†å¥‡æ•°ç”¨æˆ·è½®ç©º
- **å†·å´æ—¶é—´**: å¯é…ç½®çš„åŒ¹é…å†·å´æœºåˆ¶ï¼Œé˜²æ­¢é¢‘ç¹é‡å¤åŒ¹é…
- **éšç§ä¿æŠ¤**: åŒ¿ååŒ–æ˜¾ç¤ºï¼Œç”¨æˆ·åªèƒ½çœ‹åˆ°åŒ¹é…å¯¹è±¡çš„éæ•æ„Ÿä¿¡æ¯
- **å†å²è®°å½•**: å®Œæ•´çš„åŒ¹é…å†å²æŸ¥çœ‹ï¼Œæ”¯æŒåˆ†é¡µæµè§ˆ
- **ç®¡ç†å‘˜åŠŸèƒ½**: ç®¡ç†å‘˜å¯æŸ¥çœ‹å®Œæ•´åŒ¹é…è¯¦æƒ…
- **å®æ—¶æ›´æ–°**: æ”¯æŒæ± çŠ¶æ€å®æ—¶æ›´æ–°å’Œç”¨æˆ·æ•°é‡ç»Ÿè®¡

### æŠ€æœ¯ç‰¹æ€§
- **å‰ç«¯**: React 19 + TypeScript + Vite çƒ­é‡è½½
- **åç«¯**: Go 1.21 + Gin + GORM + SQLite
- **ç¼“å­˜**: Redis æ”¯æŒï¼ˆå¯é€‰ï¼‰
- **éƒ¨ç½²**: å•æ–‡ä»¶å¯æ‰§è¡Œç¨‹åºï¼Œå¼€ç®±å³ç”¨

## ç³»ç»Ÿè¦æ±‚

### æœ€ä½ç‰ˆæœ¬è¦æ±‚
- **Node.js**: >= 18.0.0
- **npm**: >= 9.0.0
- **Go**: >= 1.21
- **Git**: >= 2.30.0

### å¯é€‰ç»„ä»¶
- **Redis**: >= 6.0 (ç”¨äºç¼“å­˜ä¼˜åŒ–)

### æ”¯æŒå¹³å°
- Windows 10/11
- macOS 10.15+
- Linux (Ubuntu 20.04+, CentOS 8+)

## ï¿½ğŸ“ é¡¹ç›®ç»“æ„

```
ChristmasLink/
â”œâ”€â”€ frontend/                 # React å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # è·¯ç”±ã€å¤´éƒ¨ç­‰å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶ (Match, Register, Historyç­‰)
â”‚   â”‚   â”œâ”€â”€ styles/         # CSS æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ config/         # APIé…ç½®å’Œè·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ contexts/       # React Context (ä¸»é¢˜ã€ç®¡ç†å‘˜)
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â””â”€â”€ backend/                  # Go åç«¯ API
    â”œâ”€â”€ main.go              # ç¨‹åºå…¥å£
    â”œâ”€â”€ go.mod               # Go æ¨¡å—é…ç½®
    â”œâ”€â”€ christmas_link.db    # SQLite æ•°æ®åº“
    â”œâ”€â”€ start.bat/.sh        # å¯åŠ¨è„šæœ¬
    â”œâ”€â”€ controllers/         # API æ§åˆ¶å™¨
    â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘å±‚
    â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
    â”œâ”€â”€ database/            # æ•°æ®åº“åˆå§‹åŒ–
    â”œâ”€â”€ cache/               # Redis ç¼“å­˜
    â””â”€â”€ config/              # é…ç½®ç®¡ç†
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿å·²å®‰è£…æ‰€éœ€ç¯å¢ƒï¼š

```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version    # åº”è¯¥ >= 18.0.0

# æ£€æŸ¥ Go ç‰ˆæœ¬  
go version       # åº”è¯¥ >= 1.21

# æ£€æŸ¥ Git ç‰ˆæœ¬
git --version    # åº”è¯¥ >= 2.30.0
```

### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/luoli0706/ChristmasLink.git
cd ChristmasLink
```

### 3. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend

# Windows ç”¨æˆ·
start.bat

# Linux/Mac ç”¨æˆ·
chmod +x start.sh
./start.sh

# æˆ–è€…æ‰‹åŠ¨è¿è¡Œ
go run main.go
```

åç«¯æœåŠ¡å¯åŠ¨åä¼šåœ¨ `http://localhost:7776` è¿è¡Œ

### 4. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯æœåŠ¡å¯åŠ¨åä¼šåœ¨ `http://localhost:5173` è¿è¡Œ

### 5. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173` å¼€å§‹ä½¿ç”¨ç³»ç»Ÿ

## ğŸ® åŠŸèƒ½è¯´æ˜

### ç”¨æˆ·åŠŸèƒ½

1. **åˆ›å»ºåŒ¹é…æ± ** (`/register`)
   - è®¾ç½®åŒ¹é…æ± åç§°ã€æè¿°å’Œæœ‰æ•ˆæœŸ
   - é…ç½®å†·å´æ—¶é—´ï¼ˆé»˜è®¤5ç§’ï¼Œå¯è°ƒæ•´1-3600ç§’ï¼‰
   - è‡ªå®šä¹‰å­—æ®µæ”¶é›†ç”¨æˆ·ä¿¡æ¯

2. **åŠ å…¥åŒ¹é…æ± ** (`/register`)
   - æµè§ˆæ´»è·ƒçš„åŒ¹é…æ± 
   - å¡«å†™æ‰€éœ€ä¿¡æ¯åŠ å…¥æ± å­
   - å®æ—¶æŸ¥çœ‹å‚ä¸äººæ•°

3. **å¼€å§‹åŒ¹é…** (`/match`)
   - é€‰æ‹©åŒ¹é…æ± è¿›è¡ŒéšæœºåŒ¹é…
   - æŸ¥çœ‹åŒ¹é…ç»“æœï¼ˆä»…æ˜¾ç¤ºå¯¹æ–¹éæ•æ„Ÿä¿¡æ¯ï¼‰
   - æ”¯æŒå†·å´æ—¶é—´åé‡æ–°åŒ¹é…

4. **æŸ¥çœ‹å†å²** (`/history`)
   - æŒ‰æ—¶é—´æ’åºçš„åŒ¹é…å†å²
   - åˆ†é¡µæµè§ˆå†å²è®°å½•
   - åŒ¿ååŒ–æ˜¾ç¤ºä¿æŠ¤éšç§

5. **ç§»é™¤æ•°æ®** (`/remove`)
   - é€šè¿‡è”ç³»æ–¹å¼ç§»é™¤ä¸ªäººæ•°æ®
   - æ•°æ®å®‰å…¨åˆ é™¤

### ç®¡ç†å‘˜åŠŸèƒ½

1. **ç®¡ç†å‘˜ç™»å½•** (`/admin-login`)
   - é»˜è®¤å¯†ç ï¼š`admin123456`
   - æŸ¥çœ‹å®Œæ•´åŒ¹é…è¯¦æƒ…
   - å¯¼å‡ºåŒ¹é…è®°å½•

### API ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | åŠŸèƒ½ |
|------|------|------|
| GET | `/` | å¥åº·æ£€æŸ¥ |
| POST | `/api/pools` | åˆ›å»ºåŒ¹é…æ±  |
| GET | `/api/pools` | è·å–åŒ¹é…æ± åˆ—è¡¨ |
| GET | `/api/pools/:id` | è·å–æŒ‡å®šåŒ¹é…æ±  |
| POST | `/api/pools/join` | åŠ å…¥åŒ¹é…æ±  |
| POST | `/api/match` | å¼€å§‹åŒ¹é… |
| GET | `/api/history` | è·å–åŒ¹é…å†å² |
| GET | `/api/history/:id` | è·å–åŒ¹é…è¯¦æƒ… |
| DELETE | `/api/pools/:id/users/:contactInfo` | ç§»é™¤ç”¨æˆ·æ•°æ® |

## ğŸ§ª æµ‹è¯•

### è‡ªåŠ¨åŒ–æµ‹è¯•

ä½¿ç”¨æä¾›çš„æµ‹è¯•è„šæœ¬ï¼š

```bash
# Windows
cd backend
.\test_api.bat

# Linux/Mac  
cd backend
chmod +x test_api.sh
./test_api.sh
```

### æ‰‹åŠ¨æµ‹è¯•æµç¨‹

1. å¯åŠ¨åç«¯å’Œå‰ç«¯æœåŠ¡
2. åˆ›å»ºä¸€ä¸ªæµ‹è¯•åŒ¹é…æ± 
3. æ·»åŠ è‡³å°‘2ä¸ªç”¨æˆ·
4. æ‰§è¡ŒåŒ¹é…æµ‹è¯•
5. æŸ¥çœ‹åŒ¹é…å†å²
6. æµ‹è¯•å†·å´æ—¶é—´åŠŸèƒ½

## ï¿½ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### å¿«é€Ÿéƒ¨ç½²

ç³»ç»Ÿæ”¯æŒå¿«é€Ÿéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œå·²é…ç½®äº‘æœåŠ¡å™¨IP `117.72.61.26`ã€‚

#### å‰ç«¯æ„å»º

```bash
cd frontend

# Windows
build-production.bat

# Linux/Mac
chmod +x build-production.sh
./build-production.sh
```

#### åç«¯ç¼–è¯‘

```bash
cd backend
go build -ldflags="-s -w" -o christmas-link-backend main.go
```

### è¯¦ç»†éƒ¨ç½²æŒ‡å—

å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è¯´æ˜è¯·å‚è€ƒï¼š[DEPLOYMENT.md](DEPLOYMENT.md)

åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
- æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡
- Nginxé…ç½®ç¤ºä¾‹
- SystemdæœåŠ¡é…ç½®
- å®‰å…¨è®¾ç½®å»ºè®®
- ç›‘æ§ä¸ç»´æŠ¤

### éƒ¨ç½²éªŒè¯

éƒ¨ç½²å®Œæˆåè®¿é—®ä»¥ä¸‹åœ°å€éªŒè¯ï¼š
- å‰ç«¯ç•Œé¢ï¼š`http://117.72.61.26`
- åç«¯APIï¼š`http://117.72.61.26/api/pools`

## ï¿½ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `backend/.env` æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š

```env
# Redis é…ç½® (å¯é€‰)
REDIS_ENABLED=false
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# æœåŠ¡å™¨é…ç½®
PORT=7776
GIN_MODE=release
```

### æ•°æ®åº“

ç³»ç»Ÿä½¿ç”¨ SQLite ä½œä¸ºé»˜è®¤æ•°æ®åº“ï¼Œæ–‡ä»¶ä½äº `backend/christmas_link.db`ã€‚é¦–æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨åˆ›å»ºæ‰€éœ€è¡¨ç»“æ„ã€‚

### Redis ç¼“å­˜ (å¯é€‰)

å¦‚éœ€å¯ç”¨ Redis ç¼“å­˜ï¼š

1. å®‰è£… Redis æœåŠ¡
2. ä¿®æ”¹é…ç½®æ–‡ä»¶å¯ç”¨ Redis
3. é‡å¯åç«¯æœåŠ¡

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**åç«¯å¯åŠ¨å¤±è´¥**
- æ£€æŸ¥ç«¯å£ 7776 æ˜¯å¦è¢«å ç”¨
- ç¡®è®¤ Go ç‰ˆæœ¬ >= 1.21
- æ£€æŸ¥ `go.mod` ä¾èµ–æ˜¯å¦å®Œæ•´

**å‰ç«¯å¯åŠ¨å¤±è´¥**  
- æ£€æŸ¥ Node.js ç‰ˆæœ¬ >= 18.0.0
- åˆ é™¤ `node_modules` é‡æ–°å®‰è£…: `rm -rf node_modules && npm install`
- æ£€æŸ¥ç«¯å£ 5173 æ˜¯å¦è¢«å ç”¨

**API è°ƒç”¨å¤±è´¥**
- ç¡®è®¤åç«¯æœåŠ¡å·²å¯åŠ¨
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

**æ•°æ®åº“é—®é¢˜**
- åˆ é™¤ `christmas_link.db` æ–‡ä»¶é‡æ–°åˆå§‹åŒ–
- æ£€æŸ¥æ–‡ä»¶æƒé™

### å¼€å‘æ¨¡å¼

- å‰ç«¯æ”¯æŒçƒ­é‡è½½ï¼Œä¿®æ”¹ä»£ç è‡ªåŠ¨åˆ·æ–°
- åç«¯éœ€æ‰‹åŠ¨é‡å¯æœåŠ¡
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·è°ƒè¯•

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**åç«¯ç¼–è¯‘ä¼˜åŒ–**
```bash
cd backend
go build -ldflags="-s -w" -o christmas-link-backend main.go
```

**å‰ç«¯æ„å»ºä¼˜åŒ–**
```bash
cd frontend
npm run build
```

### æ¨èé…ç½®

- **å†…å­˜**: è‡³å°‘ 512MB
- **å­˜å‚¨**: è‡³å°‘ 100MB å¯ç”¨ç©ºé—´
- **å¹¶å‘**: æ”¯æŒ 100+ ç”¨æˆ·åŒæ—¶ä½¿ç”¨

## ğŸ“ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“§ è”ç³»æ–¹å¼

- é¡¹ç›®ä½œè€…: [luoli0706](https://github.com/luoli0706)
- é¡¹ç›®åœ°å€: [https://github.com/luoli0706/ChristmasLink](https://github.com/luoli0706/ChristmasLink)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/luoli0706/ChristmasLink/issues)

---

ğŸ„ **ç¥å¤§å®¶åœ£è¯å¿«ä¹ï¼äº«å—åŒ¹é…çš„ä¹è¶£ï¼** ğŸ„
